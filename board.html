<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Join - board</title>
    <link rel="shortcut icon" href="./img/join_logo.svg" type="image/x-icon" />
    <link rel="stylesheet" href="./templates/menubar.css" />
    <link rel="stylesheet" href="style.css" />
    <link rel="stylesheet" href="./css/board.css" />
    <link rel="stylesheet" href="./templates/menubar-mobile.css" />
    <link rel="stylesheet" href="./templates/header.css" />
    <link rel="stylesheet" href="./css/bg_color_contacts.css" />
    <link rel="stylesheet" href="./css/add_task_popup.css">
    <link rel="stylesheet" href="./css/add_task.css">
    <script src="./js/script.js"></script>
    <script src="./templates/menubar.js"></script>
    <script src="./js/board.js"></script>
    <script src="./js/questTemplates.js"></script>
    <script src="./js/addTask.js"></script>
  </head>
  <body class="o-h" onload="includeHTML(); loadTasks()">
    <section w3-include-html="./templates/menubar.html"></section>
    <main>
      <section w3-include-html="./templates/header.html"></section>
      <div class="content o-h max-width">
        <div class="board-header-section">
          <div class="board-header">
            <div class="board-headline">
              <h1>Board</h1>
            </div>
            <div class="board-search-add-task">
              <div class="board-search">
                <input
                  class="board-search-input"
                  type="text"
                  placeholder="Find task"
                />
                <div class="board-search-icons">
                  <span class="search-seperator"></span>
                  <img src="./img/search_icon.png" class="search-icon" />
                </div>
              </div>
              <div class="board-add-task">
                <button onclick="openBoardPopup('Todo')" class="board-add-task-button">
                  Add task
                  <div class="create-plus">
                    <div class="line-x line3"></div>
                    <div class="line-x line4"></div>
                  </div>
                </button>
              </div>
            </div>
          </div>
        </div>
        <div class="board-menu-bar">
          <div class="task" ondragover="allowDrop(event)" ondrop="drop(event,'noTodos')" id="tasksTodo">
            <div class="board-menu-tasks">
              To do
              <button class="square-button" onclick="openBoardPopup('Todo')">
                <img src="./img/plus.svg" alt="" />
              </button>
            </div>
            <div id="noTodos" class="no-tasks"></div>
            <div class="aktiv-tasks" id="cardsTodo"></div>
          </div>
          <div class="task" ondragover="allowDrop(event)" ondrop="drop(event, 'noInProgress')" id="tasksInProgress">
            <div class="board-menu-tasks">
              In Progress
              <button class="square-button" onclick="openBoardPopup('InProgress')">
                <img src="./img/plus.svg" alt="" />
              </button>
            </div>
            <div id="noInProgress"></div>
            <div class="aktiv-tasks" id="cardsInProgress">
              <button class="board-content" draggable="true" ondragstart="drag(event)" id="drag1">
                <div class="category">User Story</div>
                <div class="title">Kochwelt Page & Recipe Recommender</div>
                <div class="description">
                  Build start page with recipe recommendation...
                </div>
                <div class="subtasks-progress">
                  <div class="progressbar-status">
                    <progress id="file" value="50" max="100"></progress>
                    <label for="file">1/2 Subtasks</label>
                  </div>
                </div>
                <div class="contact-line">
                  <div class="board-contacts">
                    <div class="shortcut bg-0">AM</div>
                    <div class="shortcut bg-1">EM</div>
                    <div class="shortcut bg-2">VH</div>
                  </div>
                  <div id="urgentStatus">
                    <img src="./img/prio_medium.png" alt="" />
                  </div>
                </div>
              </button>
            </div>
          </div>
          <div class="task" ondragover="allowDrop(event)" ondrop="drop(event, 'noFeedback')" id="tasksFeedback">
            <div class="board-menu-tasks">
              Await Feedback
              <button class="square-button" onclick="openBoardPopup('Feedback')">
                <img src="./img/plus.svg" alt="" />
              </button>
            </div>
            <div id="noFeedback" class="no-tasks"></div>
            <div class="aktiv-tasks" id="cardsFeedback">
              <button class="board-content" draggable="true" ondragstart="drag(event)" id="drag2">
                <div class="category">User Story</div>
                <div class="title">Board check</div>
                <div class="description">
                  Test
                </div>
                <div class="subtasks-progress">
                  <div class="progressbar-status">
                    <progress id="file" value="0" max="100"></progress>
                    <label for="file">0/2 Subtasks</label>
                  </div>
                </div>
                <div class="contact-line">
                  <div class="board-contacts">
                    <div class="shortcut bg-0">AM</div>
                    <div class="shortcut bg-1">EM</div>
                    <div class="shortcut bg-2">VH</div>
                  </div>
                  <div id="urgentStatus">
                    <img src="./img/prio_medium.png" alt="" />
                  </div>
                </div>
              </button>
            </div>
          </div>
          <div class="task" ondragover="allowDrop(event)" ondrop="drop(event, 'noDone')" id="tasksDone">
            <div class="board-menu-tasks">
              Done
              <button class="square-button" onclick="openBoardPopup('Done')">
                <img src="./img/plus.svg" alt="" />
              </button>
            </div>
            <div id="noDone" class="no-tasks"></div>
            <div class="aktiv-tasks" id="CardsDone"></div>
          </div>
        </div>
      </div>
    </main>
    <section id="addTaskBoard" class="d_none" onclick="closeBoardPopup()">
      <div class="add-task-popup" onclick="stopPropagation(event)">
        <h1 class="add-task-popuo-headline">Add Task</h1>
        <form onsubmit="createNewTask('todo');return false;" >
          <div class="main-section">
            <div class="add-task-fields-left-content">
              <div class="add-task-field-title">
                <h2 class="add-task-headlines">Title<span class="add-task-star">*</span></h2>
                <div class="input-field-title" id="input-field-title">
                  <input id="task-title" class="add-task-inputfields" type="text" placeholder="Enter a title"/>
                </div>
                <div class="required-text-red d-none" id="required-text-red">This field is required</div>
              </div>
              <div class="add-task-field-description">
                <h2 class="add-task-headlines">Description</h2>
                <div class="textarea-field-description">
                  <textarea 
                    class="add-task-description"
                    name="add-description"
                    id="task-description"
                    type="text"
                    placeholder="Enter a Description"></textarea>
                </div>
              </div>
              <div class="add-task-field-title">
                <h2 class="add-task-headlines">Assigned to</h2>
                <div class="add-task-contacts-assign">
                    <span>Select contacts to assign</span>
                    <img class="category-arrow-down" src="./img/arrow_drop_down.png">
                </div>
              </div>
            </div>
            <div class="add-task-seperator"></div>
            <div class="add-task-fields-right-content">
              <div class="add-task-field-title">
                <h2 class="add-task-headlines">Due Date<span class="add-task-star">*</span></h2>
                <div class="add-task-date">
                  <input id="add-task-due-date" class="add-task-due-date" type="date"/>
                </div>
                <div class="required-text-red d-none" id="required-text-red-date">This field is required</div>
              </div>
              <div class="add-task-prio">
                <h2 class="add-task-headlines">Prio</h2>
                  <div class="add-task-prio-icons" id="task-prio-icons">
                    <span class="task-icon-urgent" id="task-icon-urgent" onclick="taskPrioUrgent()">Urgent 
                      <img id="icon-urgent-img" src="./img/prio_urgent.png">
                    </span>
                    <span class="task-icon-medium" id="task-icon-medium" onclick="taskPrioMedium()">Medium 
                      <img id="icon-medium-img" src="./img/prio_medium.png">
                    </span>
                    <span class="task-icon-low" id="task-icon-low" onclick="taskPrioLow()">Low 
                      <img id="icon-low-img" src="./img/prio_low.png">
                    </span>
                  </div>
              </div>
              <div class="add-task-category" id="select-task-category">
                <h2 class="add-task-headlines">Category<span class="add-task-star">*</span></h2>
                  <div class="add-task-category-text" id="add-task-category-text" onclick="selectCategory()">
                    <span id="selected-task">Select task category</span>
                    <img class="category-arrow-down" id="select-task-category-img" src="./img/arrow_drop_down.png">
                  </div>
              </div>
              <div class="select-category d-none" id="select-category">
                <div id="select-technical-task" class="category-task-technical" onclick="selectedTechnicalTask()">Technical Task</div>
                <div id="select-user-story" class="category-task-user-story" onclick="selectedUserStory()">User Story</div>
              </div>
              <div class="add-task-subtasks" id="task-subtasks">
                <h2 class="add-task-headlines">Subtasks</h2>
                <div class="d-none" id="max-subtasks-created">
                  <span>Cannot create more subtasks</span>
                </div>
                  <div class="add-task-subtasks-select" id="add-editable-input">
                    <input type="text" placeholder="Add new subtask" id="inputfield-subtask" class="inpufield-subtask" onclick="writeSubtask()">
                    <div class="add-subtask-icon" id="add-subtask-icon" onclick="writeSubtask()"><img class="add-subtask-icon-img" src="./img/add-icon.png"></div>
                    <div class="d-none" id="add-icons">
                      <div class="icon-box-subtask">
                        <img class="x-icon-subtask" src="./img/x_icon.png" onclick="cancelEdit()">
                      </div>
                      <span class="subtask-seperator"></span>
                      <div class="icon-box-subtask">
                        <img class="check-icon-subtask" src="./img/check_subtask.png" onclick="createSubtask()">
                      </div>
                    </div>
                 </div>
                 <div class="created-subtaks" id="created-subtaks"></div>
              </div>
            </div>
          </div>
          <div class="add-task-footer-content">
            <div class="text-required">
              <span class="add-task-star">*</span>
              <p>This field is required</p>
            </div>
            <div class="add-task-footer-buttons">
              <button class="button-create-task">Create Task <img src="./img/check_icon.png"></button>
        </form>
              <span class="add-task-clear" onclick="clearForm()"><p>Clear</p>
                <div class="create-x">
                  <div class="line line1"></div>
                  <div class="line line2"></div>
                </div>
              </span> 
      </div>
    </section>
    <section w3-include-html="./templates/menubar-mobile.html" class="pos-sticky-bottom"></section>
  </body>
</html>
